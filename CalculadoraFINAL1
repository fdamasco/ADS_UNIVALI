#include <stdio.h>
#include <stdlib.h>
#include <locale.h> //Biblioteca para inserir acentuação
#include <math.h> //Biblioteca para função pow

int conversor1(int num_decimal);
int  conversor2(unsigned long long num_binario); //Função de conversão de binário em decimal

int main()
{
setlocale(LC_ALL, "Portuguese"); //Habilita acentuação
//VARIÁVEIS
int num_decimal, bin_decimal, opcao, resto, i;
unsigned long long num_binario;
int dec_binario[64];

do{

    // MENU DA CALCULADORA
   printf("\tCALCULADORA DE CONVERSÃO ENTRE SISTEMAS OPERACIONAIS!\n");
   printf("\tESCOLHA A OPÇÃO DE CONVERSÃO:\n");
   printf("\nDigite [1] para converter um número Decimal em Binário;\n");
   printf("Digite [2] para converter um número Binário em Decimal; ou\n");
   printf("Digite [3] para sair.\n");
   printf("Opcão escolhida: ");
   scanf("%i", &opcao); //Armazena a variável OPCAO
   switch(opcao) { //Estrutura de seleção switch

       case 1: //Opção 1: conversão de decimal para binário
           printf("\nA opcão escolhida foi: %i - Conversão de número Decimal em Binário.\n", opcao);
           printf("\nDigite um número em Decimal:\n");
           scanf("%d", &num_decimal); //Armazena a variável numerodec
           printf("Número Binário: \n");
           conversor1(num_decimal);
           break;

       case 2: //Opção 2: conversão de binário para decimal
           printf("\nA opcão escolhida foi: %i - Conversão de número Binário em Decimal.\n", opcao);
           printf("\nDigite um número em Binário:\n");
           scanf("%lld", &num_binario);
           printf("Número Decimal: %d\n\n", conversor2(num_binario));
           break;

       case 3: //Opção (restante) 3: sair da calculadora
           break;
       default: //Quando o usuário digitar um número não previsto
           printf("\nVocê digitou um valor inválido");
           printf("\n\n\n");
   }

} while (opcao!=3);
    printf("\nClique em qualquer tecla para sair.");
    printf("\nAté a próxima!");
    printf("\n\n\n");

   return 0;
}

int conversor1 (int num_decimal)
{

    int dec_binario[64], i=0;
    while (num_decimal != 0){ //Enquanto o número decimal digitado for diferente de zero...
           dec_binario[i] = num_decimal%2; // ...entra no laço de repetição, imprimindo o valor do resto do número decimal por 2.
           num_decimal = num_decimal/2; // Divide o número decimal por 2, e inicia o próximo loop
           i++; //Incremento do contador do vetor
           }
           for (i=i-1; i>=0; i--){//Decremento do vetor do máximo a 0
               printf("%d", dec_binario[i]); //Imprime os restos de trás para frente, formando o número binário
            }
           if (num_decimal=0) // Se o número decimal for igual a zero, o binário também será.
            printf("\%d", num_decimal);
            printf("\n\n\n");
}

int conversor2 (unsigned long long num_binario)
{
    int bin_decimal = 0, i = 0, resto;

    //Enquanto existir valor no binário
    while (num_binario!=0){//Enquanto o número binário for diferente de 0
               resto=num_binario%10;
               num_binario = num_binario/10;
               bin_decimal=bin_decimal+resto*pow(2,i);
               i++;
           }
            if (num_binario=0) // Se o número binário informado for igual a zero, o binário também será.
            bin_decimal=0;

    return bin_decimal;
}
